<!doctype html>
<html lang="de">
  <head>
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    <meta charset="utf-8">
    <title>Story-Knopf</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
    <style>
      /* RESET */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        cursor: default !important;
        -webkit-tap-highlight-color: transparent;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
        font-family: Arial, Helvetica, sans-serif;
        background: #010101;
        font-size: 1.3em;
        overflow: hidden;
        position: fixed; /* WICHTIG: Verhindert Scrollen */
      }
      
      /* SCHWARZE BORDER MIT BOX-SHADOW */
      html {
        box-shadow: inset 0 0 0 20px #000000 !important;
      }
      
      /* Verhindert Scrollbalken */
      ::-webkit-scrollbar {
        display: none;
      }

      /* ---------- WÃ¼rfel-Knopf ---------- */
      #bubble {
        position: fixed;
        right: 20px;
        bottom: 70px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: linear-gradient(135deg, #ff8a00 0%, #ff6600 100%);
        box-shadow: 0 4px 12px rgba(0,0,0,.35);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 9999;
      }
      #cube {
        width: 30px;
        height: 30px;
        transform-style: preserve-3d;
        transform: rotateX(-15deg) rotateY(25deg);
        transition: transform .3s;
      }
      #bubble:hover #cube {
        transform: rotateX(-15deg) rotateY(205deg);
      }
      .face {
        position: absolute;
        width: 30px;
        height: 30px;
        background: linear-gradient(145deg, #ffffff 0%, oklab(21.587% 0.02335 0.00814 / 0) 100%);
        border: 0px solid #e0e0e0;
      }
      .front { transform: translateZ(15px); }
      .back { transform: translateZ(-15px) rotateY(180deg); }
      .left { transform: translateX(-15px) rotateY(-90deg); }
      .right { transform: translateX(15px) rotateY(90deg); }
      .top { transform: translateY(-15px) rotateX(90deg); }
      .bottom { transform: translateY(15px) rotateX(-90deg); }

      /* ---------- Story-Karte ---------- */
      #card {
        position: fixed;
        left: 50%;
        top: 48%;
        transform: translate(-50%, -50%);
        background: #000000;
        padding: 25px 30px;
        box-shadow: 0 6px 24px rgba(255, 255, 255, 0);
        border-radius: 8px;
        width: 95vw;
        max-width: 700px;
        max-height: 125vh;
        overflow-y: auto;
        display: none;
        z-index: 200;
        color: #e0e0e0;
        bottom: -45%;
      }
      #card h1 {
        margin-top: 0;
        font-size: .8e;
        color: #e0e0e0;
      }
      .close {
        float: right;
        border: none;
        background: none;
        font-size: 28px;
        line-height: 1;
        cursor: pointer;
      }

      /* ---------- VOKABELN ---------- */
      .voc {
        margin-top: 15px;
        display: flex;
        flex-direction: column;
        gap: 22px;
      }
      .word-group {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }
      .word {
        position: relative;
        padding-left: 32px;
        font-size: 36px;
        line-height: 1.3;
      }
      .word.de::before {
        content: "ðŸ‡©ðŸ‡ª";
        position: absolute;
        left: 0;
        top: 0;
      }
      .word.vi::before {
        content: "ðŸ‡¬ðŸ‡§";
        position: absolute;
        left: 0;
        top: 0;
      }
      .word.en::before {
        content: "vn";
        position: absolute;
        left: 0;
        top: 0;
      }
    </style>
  </head>
  <body>

    <div id="bubble" title="Neue Geschichte">
      <div id="cube">
        <div class="face front"></div>
        <div class="face back"></div>
        <div class="face left"></div>
        <div class="face right"></div>
        <div class="face top"></div>
        <div class="face bottom"></div>
      </div>
    </div>

    <div id="card">
      <button class="close" onclick="card.style.display='none'">&times;</button>
      <h2 id="title"></h2>
      <p id="story"></p>
      <div class="voc" id="vocbody"></div>
    </div>

    <script>
      /* --------------  DATENBANK (einfach erweitern)  -------------- */
      const stories = [
        {
          "title": "â˜• Das Telefon klingelt im BÃ¼ro ðŸ“ž",
          "text": "Herr Meier arbeitet in einem groÃŸen BÃ¼ro. Er schreibt gerade eine wichtige E-Mail. PlÃ¶tzlich klingelt das Telefon laut. Herr Meier nimmt den HÃ¶rer ab. Es ist eine Kundin am Apparat. Sie hat eine Frage zu einem Produkt. Herr Meier erklÃ¤rt ihr die Details ruhig und freundlich. Er notiert ihre Adresse. Dann verabschiedet er sich. Er macht eine kurze Pause und trinkt einen Kaffee.",
          "voc": [
            { "de": "das BÃ¼ro", "en": "vÄƒn phÃ²ng", "vi": "office" },
            { "de": "wichtig", "en": "quan trá»ng", "vi": "important" },
            { "de": "klingeln", "en": "reo chuÃ´ng", "vi": "to ring" },
            { "de": "laut", "en": "to", "vi": "loud" },
            { "de": "der HÃ¶rer", "en": "á»‘ng nghe Ä‘iá»‡n thoáº¡i", "vi": "receiver" },
            { "de": "abnehmen", "en": "nháº¥c lÃªn", "vi": "to pick up (the phone)" },
            { "de": "die Kundin", "en": "khÃ¡ch hÃ ng (ná»¯)", "vi": "customer (female)" },
            { "de": "der Apparat", "en": "mÃ¡y (Ä‘iá»‡n thoáº¡i)", "vi": "apparatus, phone" },
            { "de": "erklÃ¤ren", "en": "giáº£i thÃ­ch", "vi": "to explain" },
            { "de": "die Details", "en": "chi tiáº¿t", "vi": "details" },
            { "de": "ruhig", "en": "bÃ¬nh tÄ©nh", "vi": "calmly" },
            { "de": "notieren", "en": "ghi chÃº", "vi": "to note down" },
            { "de": "die Adresse", "en": "Ä‘á»‹a chá»‰", "vi": "address" },
            { "de": "sich verabschieden", "en": "chÃ o táº¡m biá»‡t", "vi": "to say goodbye" }
          ]
        },
        {
          "title": "ðŸš¿ Im Badezimmer am Morgen ðŸ§–â€â™€ï¸",
          "text": "Am Morgen steht Martin frÃ¼h auf. Er geht zuerst ins Badezimmer. Er wÃ¤scht sein Gesicht mit kaltem Wasser. Dann putzt er seine ZÃ¤hne. Er benutzt seine elektrische ZahnbÃ¼rste. Danach rasiert er sich. Er braucht dafÃ¼r Rasierschaum und einen Rasierer. Er duscht schnell. Er trocknet seine Haare mit einem Handtuch. Jetzt ist er frisch und bereit fÃ¼r den Tag.",
          "voc": [
            { "de": "frÃ¼h", "en": "sá»›m", "vi": "early" },
            { "de": "das Badezimmer", "en": "phÃ²ng táº¯m", "vi": "bathroom" },
            { "de": "waschen", "en": "rá»­a", "vi": "to wash" },
            { "de": "das Gesicht", "en": "khuÃ´n máº·t", "vi": "face" },
            { "de": "kalt", "en": "láº¡nh", "vi": "cold" },
            { "de": "die ZÃ¤hne putzen", "en": "Ä‘Ã¡nh rÄƒng", "vi": "to brush teeth" },
            { "de": "die ZahnbÃ¼rste", "en": "bÃ n cháº£i Ä‘Ã¡nh rÄƒng", "vi": "toothbrush" },
            { "de": "rasieren", "en": "cáº¡o rÃ¢u", "vi": "to shave" },
            { "de": "der Rasierschaum", "en": "bá»t cáº¡o rÃ¢u", "vi": "shaving cream" },
            { "de": "der Rasierer", "en": "dao cáº¡o rÃ¢u", "vi": "razor" },
            { "de": "duschen", "en": "táº¯m vÃ²i sen", "vi": "to shower" },
            { "de": "trocknen", "en": "lÃ m khÃ´", "vi": "to dry" },
            { "de": "das Handtuch", "en": "khÄƒn táº¯m, khÄƒn lau", "vi": "towel" },
            { "de": "frisch", "en": "tÆ°Æ¡i táº¯n", "vi": "fresh" }
          ]
        },
        {
          "title": "ðŸª´ Blumen pflanzen im FrÃ¼hling ðŸŒ·",
          "text": "Es ist MÃ¤rz. Die Sonne scheint schon warm. Klara und ihr Nachbar beschlieÃŸen, den Garten schÃ¶n zu machen. Klara kauft Tulpenzwiebeln und neue Erde. Ihr Nachbar grÃ¤bt die LÃ¶cher mit einem Spaten. Klara pflanzt die Zwiebeln in die Erde. Sie gieÃŸen alles vorsichtig mit der GieÃŸkanne. Sie wissen, dass sie im Mai viele bunte Blumen haben werden. Sie freuen sich auf den Sommer.",
          "voc": [
            { "de": "der FrÃ¼hling", "en": "mÃ¹a xuÃ¢n", "vi": "spring" },
            { "de": "scheinen", "en": "chiáº¿u sÃ¡ng", "vi": "to shine" },
            { "de": "der Nachbar", "en": "hÃ ng xÃ³m (nam)", "vi": "neighbor (male)" },
            { "de": "beschlieÃŸen", "en": "quyáº¿t Ä‘á»‹nh", "vi": "to decide" },
            { "de": "schÃ¶n machen", "en": "lÃ m Ä‘áº¹p", "vi": "to make beautiful" },
            { "de": "die Tulpenzwiebel", "en": "cá»§ hoa tulip", "vi": "tulip bulb" },
            { "de": "die Erde", "en": "Ä‘áº¥t", "vi": "earth, soil" },
            { "de": "graben", "en": "Ä‘Ã o", "vi": "to dig" },
            { "de": "das Loch", "en": "cÃ¡i lá»—", "vi": "hole" },
            { "de": "der Spaten", "en": "cÃ¡i xáº»ng", "vi": "spade" },
            { "de": "pflanzen", "en": "trá»“ng", "vi": "to plant" },
            { "de": "gieÃŸen", "en": "tÆ°á»›i nÆ°á»›c", "vi": "to water" },
            { "de": "vorsichtig", "en": "cáº©n tháº­n", "vi": "carefully" },
            { "de": "die GieÃŸkanne", "en": "bÃ¬nh tÆ°á»›i nÆ°á»›c", "vi": "watering can" },
            { "de": "bunt", "en": "nhiá»u mÃ u sáº¯c", "vi": "colorful" }
          ]
        },
        {
          "title": "ðŸŒ§ï¸ Schlechtwetter-Nachmittag â˜”",
          "text": "DrauÃŸen regnet es stark. Emil und seine kleine Schwester bleiben drinnen. Sie dÃ¼rfen nicht in den Garten gehen. Emil schlÃ¤gt vor, ein Puzzle zu machen. Es sind zweihundert Teile. Die Schwester sucht die RandstÃ¼cke heraus. Emil beginnt, die Mitte zusammenzusetzen. Sie konzentrieren sich sehr. Nach zwei Stunden ist das Bild fertig. Sie sind stolz auf ihre Arbeit und warten auf besseres Wetter.",
          "voc": [
            { "de": "drauÃŸen", "en": "bÃªn ngoÃ i", "vi": "outside" },
            { "de": "stark", "en": "máº¡nh, dá»¯ dá»™i", "vi": "strong, heavily" },
            { "de": "drinnen", "en": "bÃªn trong", "vi": "inside" },
            { "de": "dÃ¼rfen", "en": "Ä‘Æ°á»£c phÃ©p", "vi": "to be allowed to" },
            { "de": "vorschlagen", "en": "Ä‘á» nghá»‹", "vi": "to suggest" },
            { "de": "das Puzzle", "en": "trÃ² chÆ¡i xáº¿p hÃ¬nh", "vi": "puzzle" },
            { "de": "die Teile", "en": "cÃ¡c máº£nh, cÃ¡c pháº§n", "vi": "pieces, parts" },
            { "de": "das RandstÃ¼ck", "en": "máº£nh viá»n", "vi": "edge piece" },
            { "de": "heraussuchen", "en": "tÃ¬m kiáº¿m vÃ  chá»n ra", "vi": "to search out" },
            { "de": "zusammensetzen", "en": "láº¯p rÃ¡p láº¡i", "vi": "to put together" },
            { "de": "sich konzentrieren", "en": "táº­p trung", "vi": "to concentrate" },
            { "de": "stolz auf", "en": "tá»± hÃ o vá»", "vi": "proud of" },
            { "de": "die Arbeit", "en": "cÃ´ng viá»‡c", "vi": "work" },
            { "de": "warten auf", "en": "chá» Ä‘á»£i", "vi": "to wait for" }
          ]
        },
        {
          "title": "ðŸ‘´ Besuch bei den GroÃŸeltern ðŸ¡",
          "text": "Jeden Sonntag besuchen Max und seine Eltern die GroÃŸeltern. Die Oma kocht immer ein leckeres Mittagessen. Heute gibt es Braten mit Kartoffeln und Salat. Der Opa wartet schon mit dem Enkel im Garten. Sie spielen gemeinsam Ball. Nach dem Essen erzÃ¤hlt die Oma eine Geschichte aus ihrer Jugend. Max hÃ¶rt aufmerksam zu. Am spÃ¤ten Nachmittag fahren sie zurÃ¼ck nach Hause. Es war ein schÃ¶ner Familientag.",
          "voc": [
            { "de": "die GroÃŸeltern", "en": "Ã´ng bÃ ", "vi": "grandparents" },
            { "de": "die Oma", "en": "bÃ ", "vi": "grandma" },
            { "de": "kochen", "en": "náº¥u Äƒn", "vi": "to cook" },
            { "de": "lecker", "en": "ngon", "vi": "delicious" },
            { "de": "der Braten", "en": "thá»‹t quay", "vi": "roast" },
            { "de": "die Kartoffel", "en": "khoai tÃ¢y", "vi": "potato" },
            { "de": "der Opa", "en": "Ã´ng", "vi": "grandpa" },
            { "de": "der Enkel", "en": "chÃ¡u trai", "vi": "grandson" },
            { "de": "gemeinsam", "en": "cÃ¹ng nhau", "vi": "together" },
            { "de": "erzÃ¤hlen", "en": "ká»ƒ chuyá»‡n", "vi": "to tell (a story)" },
            { "de": "die Jugend", "en": "tuá»•i tráº»", "vi": "youth" },
            { "de": "aufmerksam", "en": "chÄƒm chÃº", "vi": "attentively" },
            { "de": "der Familientag", "en": "ngÃ y gia Ä‘Ã¬nh", "vi": "family day" }
          ]
        },
        {
          "title": "ðŸ“° Die Abendnachrichten schauen ðŸ“º",
          "text": "Nach dem Abendessen setzt sich Familie Huber gemeinsam vor den Fernseher. Sie schalten das GerÃ¤t ein und sehen die Nachrichten. Der Sprecher berichtet Ã¼ber die Wahlen im Ausland und die Wettervorhersage fÃ¼r morgen. Herr Huber interessiert sich besonders fÃ¼r den Sportteil. Die Kinder finden die Berichte Ã¼ber Tiere am besten. Die Sendung dauert dreiÃŸig Minuten. Danach gehen alle ins Bett.",
          "voc": [
            { "de": "die Abendnachrichten", "en": "tin tá»©c buá»•i tá»‘i", "vi": "evening news" },
            { "de": "sich setzen", "en": "ngá»“i xuá»‘ng", "vi": "to sit down" },
            { "de": "der Fernseher", "en": "mÃ¡y thu hÃ¬nh, TV", "vi": "television" },
            { "de": "einschalten", "en": "báº­t lÃªn", "vi": "to switch on" },
            { "de": "das GerÃ¤t", "en": "thiáº¿t bá»‹", "vi": "device, appliance" },
            { "de": "der Sprecher", "en": "ngÆ°á»i phÃ¡t ngÃ´n, phÃ¡t thanh viÃªn", "vi": "speaker, anchor" },
            { "de": "berichten Ã¼ber", "en": "bÃ¡o cÃ¡o vá»", "vi": "to report on" },
            { "de": "die Wahlen", "en": "cuá»™c báº§u cá»­", "vi": "elections" },
            { "de": "das Ausland", "en": "nÆ°á»›c ngoÃ i", "vi": "foreign countries" },
            { "de": "die Wettervorhersage", "en": "dá»± bÃ¡o thá»i tiáº¿t", "vi": "weather forecast" },
            { "de": "der Sportteil", "en": "pháº§n thá»ƒ thao", "vi": "sports section" },
            { "de": "der Bericht", "en": "bÃ¡o cÃ¡o, tin tá»©c", "vi": "report" },
            { "de": "die Sendung", "en": "chÆ°Æ¡ng trÃ¬nh phÃ¡t sÃ³ng", "vi": "broadcast, show" },
            { "de": "dreiÃŸig", "en": "ba mÆ°Æ¡i", "vi": "thirty" }
          ]
        },
        {
          "title": "ðŸ“š In der UniversitÃ¤tsbibliothek ðŸ¤«",
          "text": "Maria ist Studentin an der UniversitÃ¤t. Heute muss sie viel lesen und lernen. Sie geht in die groÃŸe Bibliothek. Dort ist es sehr ruhig. Sie sucht ein Buch Ã¼ber die Geschichte Deutschlands. Sie findet es im zweiten Stock. Sie nimmt es an sich und setzt sich an einen Tisch. Sie macht wichtige Notizen. Sie bleibt bis zum Abend in der Bibliothek und arbeitet konzentriert.",
          "voc": [
            { "de": "die UniversitÃ¤t", "en": "trÆ°á»ng Ä‘áº¡i há»c", "vi": "university" },
            { "de": "der Student", "en": "sinh viÃªn (nam)", "vi": "student (male)" },
            { "de": "die Bibliothek", "en": "thÆ° viá»‡n", "vi": "library" },
            { "de": "ruhig", "en": "yÃªn tÄ©nh", "vi": "quiet" },
            { "de": "die Geschichte", "en": "lá»‹ch sá»­", "vi": "history" },
            { "de": "der Stock", "en": "táº§ng", "vi": "floor" },
            { "de": "sich nehmen", "en": "láº¥y", "vi": "to take" },
            { "de": "der Tisch", "en": "cÃ¡i bÃ n", "vi": "table" },
            { "de": "die Notizen", "en": "ghi chÃº", "vi": "notes" },
            { "de": "bis zum Abend", "en": "cho Ä‘áº¿n tá»‘i", "vi": "until the evening" },
            { "de": "konzentriert", "en": "táº­p trung", "vi": "focused" }
          ]
        },
        {
          "title": "ðŸ–¼ï¸ Ein Besuch im Museum ðŸŽ¨",
          "text": "Lukas ist am Wochenende in Berlin. Er mÃ¶chte das Museum besuchen. Er interessiert sich besonders fÃ¼r moderne Kunst. Am Eingang kauft er eine Eintrittskarte. Im Museum hÃ¤ngen viele gemalte Bilder an den WÃ¤nden. Er bleibt vor einem groÃŸen, blauen Bild stehen. Eine MuseumsfÃ¼hrerin erklÃ¤rt gerade die Technik. Lukas lernt viel Ã¼ber die verschiedenen Epochen. Nach zwei Stunden geht er zufrieden nach Hause.",
          "voc": [
            { "de": "das Wochenende", "en": "cuá»‘i tuáº§n", "vi": "weekend" },
            { "de": "besonders", "en": "Ä‘áº·c biá»‡t", "vi": "especially" },
            { "de": "modern", "en": "hiá»‡n Ä‘áº¡i", "vi": "modern" },
            { "de": "die Kunst", "en": "nghá»‡ thuáº­t", "vi": "art" },
            { "de": "der Eingang", "en": "lá»‘i vÃ o", "vi": "entrance" },
            { "de": "die Eintrittskarte", "en": "vÃ© vÃ o cá»­a", "vi": "admission ticket" },
            { "de": "hÃ¤ngen", "en": "treo", "vi": "to hang" },
            { "de": "gemalt", "en": "Ä‘Æ°á»£c váº½", "vi": "painted" },
            { "de": "die Wand", "en": "bá»©c tÆ°á»ng", "vi": "wall" },
            { "de": "die MuseumsfÃ¼hrerin", "en": "hÆ°á»›ng dáº«n viÃªn báº£o tÃ ng (ná»¯)", "vi": "museum guide (female)" },
            { "de": "die Technik", "en": "ká»¹ thuáº­t", "vi": "technique" },
            { "de": "die Epoche", "en": "ká»· nguyÃªn, thá»i Ä‘áº¡i", "vi": "era, epoch" },
            { "de": "zufrieden", "en": "hÃ i lÃ²ng", "vi": "satisfied" }
          ]
        },
        {
          "title": "ðŸ¤ Ein Treffen mit dem besten Freund ðŸ‘¦",
          "text": "Paul hat heute Nachmittag Zeit. Er schreibt seinem besten Freund, Tim, eine Nachricht. Sie wollen sich im Park treffen. Tim antwortet schnell. Paul nimmt seinen FuÃŸball mit. Im Park begrÃ¼ÃŸt Tim ihn mit einem LÃ¤cheln. Sie reden zuerst Ã¼ber die Schule und ihre PlÃ¤ne. Dann spielen sie gemeinsam eine Stunde lang FuÃŸball. Wenn Paul Probleme hat, hÃ¶rt Tim ihm immer zu. Sie sind seit vielen Jahren gute Freunde.",
          "voc": [
            { "de": "die Nachricht", "en": "tin nháº¯n", "vi": "message" },
            { "de": "sich treffen", "en": "gáº·p gá»¡ nhau", "vi": "to meet up" },
            { "de": "antworten", "en": "tráº£ lá»i", "vi": "to answer" },
            { "de": "der FuÃŸball", "en": "quáº£ bÃ³ng Ä‘Ã¡", "vi": "football, soccer ball" },
            { "de": "begrÃ¼ÃŸen", "en": "chÃ o Ä‘Ã³n", "vi": "to greet" },
            { "de": "das LÃ¤cheln", "en": "ná»¥ cÆ°á»i", "vi": "smile" },
            { "de": "die PlÃ¤ne", "en": "káº¿ hoáº¡ch", "vi": "plans" },
            { "de": "eine Stunde lang", "en": "trong má»™t giá»", "vi": "for an hour" },
            { "de": "das Problem", "en": "váº¥n Ä‘á»", "vi": "problem" },
            { "de": "zuhÃ¶ren", "en": "láº¯ng nghe", "vi": "to listen" },
            { "de": "immer", "en": "luÃ´n luÃ´n", "vi": "always" },
            { "de": "seit vielen Jahren", "en": "trong nhiá»u nÄƒm", "vi": "for many years" }
          ]
        }
      ];

      /* --------------  ZUFÃ„LLIGE STORY ANZEIGEN  -------------- */
      document.getElementById('bubble').onclick = () => {
        const storiesList = stories;
        const s = storiesList[Math.floor(Math.random() * storiesList.length)];
        document.getElementById('title').textContent = s.title;
        document.getElementById('story').textContent = s.text;
        
        const vocbody = document.getElementById('vocbody');
        vocbody.innerHTML = s.voc.map(v => `
          <div class="word-group">
            <div class="word de">
              <span class="iconify" data-icon="twemoji:flag-germany"></span>
              <span class="text">${v.de}</span>
            </div>
            <div class="word vi">
              <span class="iconify" data-icon="twemoji:flag-united-kingdom"></span>
              <span class="text">${v.vi}</span>
            </div>
            <div class="word en">
              <span class="iconify" data-icon="twemoji:flag-vietnam"></span>
              <span class="text">${v.en}</span>
            </div>
          </div>
        `).join('');
        
        document.getElementById('card').style.display = 'block';
      };
      
      /* Verhindert Zoomen */
      document.addEventListener('gesturestart', function(e) {
        e.preventDefault();
      });
    </script>
  </body>
</html>
